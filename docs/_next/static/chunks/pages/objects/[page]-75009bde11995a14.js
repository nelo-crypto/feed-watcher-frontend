(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[336],{1836:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/objects/[page]",function(){return t(1047)}])},1047:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return g}});var r=t(5893),s=t(7294),i=t(1608),a=t(1555),c=t(8375),l=t(6968),o=t(1163),u=t(8437),d=t(682);function h(e){var n=e.pageTitle,t=(0,o.useRouter)();return(0,r.jsxs)("header",{children:[(0,r.jsx)("title",{children:n||"No title"}),(0,r.jsx)("noscript",{children:(0,r.jsx)("style",{children:".nojs-show { opacity: 1; top: 0; }"})}),(0,r.jsx)(u.Z,{bg:"light",className:"my-3 mt-0 mb-1 bg-body rounded-bottom shadow-sm",expand:"lg",children:(0,r.jsx)(d.Z,{children:(0,r.jsx)(u.Z.Brand,{href:"#",onClick:function(e){e.preventDefault(),t.push("/")},children:"Feed Viewer"})})})]})}function f(e){var n=e.children,t=e.pageTitle;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(h,{pageTitle:t}),(0,r.jsx)("main",{children:(0,r.jsx)(d.Z,{children:(0,r.jsx)(i.Z,{className:"mt-4",children:(0,r.jsx)(a.Z,{sm:"12",children:n})})})})]})}var p={GRAPHQL_ENDPOINT:"http://feed-watcher-graphql.herokuapp.com:3002"},j=t(2205),x=t(8975);function m(e){for(var n=function(e){var n=(0,x.sprintf)(t,e);if(!(1===e||e===c)&&(e<a-3||a+3<e))return d||(d=!0,l.push((0,r.jsx)(j.Z.Ellipsis,{},e))),"continue";d=!1,l.push((0,r.jsx)(j.Z.Item,{onClick:function(e){e.preventDefault(),u.push(n)},active:e===a,children:e},e))},t=e.baseRoute,s=e.numberOfItems,i=e.numberOfItemsPerPage,a=e.currentPage,c=Math.ceil(s/i),l=[],u=(0,o.useRouter)(),d=!1,h=1;h<=c;h++)n(h);return(0,r.jsxs)(j.Z,{children:[(0,r.jsx)(j.Z.First,{onClick:function(e){e.preventDefault();var n=(0,x.sprintf)(t,1);u.push(n)}}),(0,r.jsx)(j.Z.Prev,{onClick:function(e){e.preventDefault();var n=Math.max(1,a-1),r=(0,x.sprintf)(t,n);u.push(r)}}),l,(0,r.jsx)(j.Z.Next,{onClick:function(e){e.preventDefault();var n=Math.min(c,a+1),r=(0,x.sprintf)(t,n);u.push(r)}}),(0,r.jsx)(j.Z.Last,{onClick:function(e){e.preventDefault();var n=(0,x.sprintf)(t,c);u.push(n)}})]})}function g(){var e=(0,o.useRouter)(),n=(0,s.useState)(null),t=n[0],u=n[1],d=(0,s.useState)(null),h=d[0],j=d[1],g=(0,s.useState)(!1),v=g[0],b=g[1];(0,s.useEffect)((function(){if(e.isReady&&void 0!==e.query.page){var n="string"==typeof e.query.page?e.query.page:e.query.page[0],t=parseInt(n);b(!0),fetch(p.GRAPHQL_ENDPOINT,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:(0,x.sprintf)('\n{\n  objects(classification: "Prints", size: 10, page: %d, sort: "rank", sortorder: "desc", hasimage: 1, verificationlevel: 4) {\n    records {\n      id\n      title\n      rank\n      images {\n        baseimageurl\n        alttext\n      }\n    }\n    info {\n      prev\n      next\n      totalrecords\n      totalrecordsperquery\n      page\n    }\n  }\n}\n',t)})}).then((function(e){return e.json()})).then((function(e){u(e.data.objects),b(!1)})).catch((function(e){j(e.toString()),b(!1)}))}}),[e]);var Z=function(){if(null!==t)return(0,r.jsx)(i.Z,{children:(0,r.jsx)(a.Z,{sm:"12",children:(0,r.jsx)(m,{baseRoute:"/objects/%d",numberOfItemsPerPage:t.info.totalrecordsperquery,numberOfItems:t.info.totalrecords,currentPage:t.info.page})})})};return(0,r.jsxs)(f,{pageTitle:"Best standard prints",children:[(0,r.jsx)(i.Z,{children:(0,r.jsx)(a.Z,{sm:"12",children:(0,r.jsx)("h1",{children:"Best standard prints"})})}),function(){if(v)return(0,r.jsx)(i.Z,{children:(0,r.jsxs)(a.Z,{sm:"12",children:[(0,r.jsx)(l.Z,{animation:"border",role:"status"}),"Loading.."]})})}(),function(){if(null!==h)return(0,r.jsx)(c.Z,{variant:"danger",children:h})}(),Z(),(0,r.jsx)(i.Z,{children:(0,r.jsx)(a.Z,{sm:"12",children:(0,r.jsxs)("table",{className:"table table-hover",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{scope:"col",children:"#ID"}),(0,r.jsx)("th",{scope:"col",children:"Title"}),(0,r.jsx)("th",{scope:"col",children:"Rank"}),(0,r.jsx)("th",{scope:"col",children:"Image(s)"})]})}),(0,r.jsx)("tbody",{children:null!==t?t.records.map((function(e,n){return(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:e.id}),(0,r.jsx)("td",{children:e.title}),(0,r.jsx)("td",{children:e.rank}),(0,r.jsx)("td",{children:e.images.map((function(e,n){return(0,r.jsx)("img",{src:e.baseimageurl,width:100,alt:e.alttext},n)}))})]},n)})):null})]})})}),Z()]})}}},function(e){e.O(0,[807,774,888,179],(function(){return n=1836,e(e.s=n);var n}));var n=e.O();_N_E=n}]);